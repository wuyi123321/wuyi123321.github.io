webpackJsonp([6],{"+mEY":function(o,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=c("Dd8w"),s=c.n(e),i=c("NYxO"),n={data:function(){return{showconpany:!1,showSelectE:!1,showSelectEleve:!1,selectcompany:"",companyName:"",companyId:"",cEconomicsName:"",cEconomicsId:"",cEconomicsLevelId:"",cEconomicsLevelName:"",companyList:[],EconomicsList:[],cEconomicsLevelList:[],xlineTiem:"",point:"",pointlng:"",pointlat:""}},computed:s()({},Object(i.d)({user:"userMessage",centerpoint:"centerpoint"})),watch:{selectcompany:function(o){this.getcompanyList(o)},companyId:function(o){for(var t=0;t<this.companyList.length;t++)this.companyList[t].companyId==o&&(this.companyName=this.companyList[t].companyName);this.showconpany=!1},cEconomicsId:function(o){this.cEconomicsLevelId="",this.cEconomicsLevelName="";for(var t=0;t<this.EconomicsList.length;t++)this.EconomicsList[t].cEconomicsId==o&&(console.log(this.EconomicsList[t]),this.cEconomicsName=this.EconomicsList[t].cEconomicsName,this.cEconomicsLevelList=this.EconomicsList[t].levelList);this.showSelectE=!1},cEconomicsLevelId:function(o){for(var t=0;t<this.cEconomicsLevelList.length;t++)this.cEconomicsLevelList[t].cEconomicsLevelId==o&&(console.log(this.cEconomicsLevelList[t]),this.cEconomicsLevelName=this.cEconomicsLevelList[t].cEconomicsLevelName);this.showSelectEleve=!1}},mounted:function(){this.point=this.$route.query.lng+","+this.$route.query.lat,this.pointlng=this.$route.query.lng,this.pointlat=this.$route.query.lat,this.getcompanyList(),this.getEconomics()},methods:{goback:function(){this.$router.go(-1)},selectEconomicsT:function(){this.cEconomicsId?this.showSelectEleve=!0:this.$dialog.toast({mes:"请先选择经济类型",timeout:1500})},itemClickHandler:function(o){this.$dialog.toast({mes:"搜索："+o})},submitHandler:function(o){this.$dialog.toast({mes:"搜索："+o})},subCompany:function(){var o=this;o.companyId?o.cEconomicsId?o.cEconomicsLevelId?o.api(o,"post","提交中","common/company/updateCompanyByPoint.json",{companyId:o.companyId,uId:o.user.userId,lng:o.pointlng,lat:o.pointlat,pointCenterId:o.centerpoint.centerId,companyEconomicsType:o.cEconomicsId,companyEconomicsLevel:o.cEconomicsLevelId},function(t){0==t.statusCode?(o.$dialog.toast({mes:"添加成功",timeout:1500}),o.goback()):o.$dialog.toast({mes:t.message,timeout:1500})}):o.$dialog.toast({mes:"请先选择产业链",timeout:1500}):o.$dialog.toast({mes:"请先选择经济类型",timeout:1500}):o.$dialog.toast({mes:"请先选择公司",timeout:1500})},getEconomics:function(){var o=this;o.api(o,"post","查询中","common/company/findEconomics.json",{pageSize:-1},function(t){0==t.statusCode&&(o.EconomicsList=t.dataInfo.listData)})},getcompanyList:function(o){var t=this;t.api(t,"post","查询中","common/company/findCompany.json",{companyName:o},function(o){0==o.statusCode&&(t.companyList=o.dataInfo.listData)})}}},a={render:function(){var o=this,t=o.$createElement,c=o._self._c||t;return c("yd-layout",{attrs:{id:"addcom"}},[c("yd-navbar",{attrs:{slot:"navbar",title:"记录",bgcolor:"#0FA0FA",color:"#fff"},slot:"navbar"},[c("span",{attrs:{slot:"left"},slot:"left"},[c("yd-navbar-back-icon",{attrs:{color:"#fff"},nativeOn:{click:function(t){return o.goback(t)}}})],1)]),o._v(" "),c("div",[c("div",{staticClass:"companylist",on:{click:function(t){o.showconpany=!0}}},[c("div",{staticClass:"name"},[o._v("公司名称")]),o._v(" "),c("div",{staticClass:"value"},[c("yd-input",{attrs:{disabled:"",required:"",placeholder:"请输入公司名"},model:{value:o.companyName,callback:function(t){o.companyName=t},expression:"companyName"}})],1)]),o._v(" "),c("div",{staticClass:"companylist"},[c("div",{staticClass:"name"},[o._v("地理坐标")]),o._v(" "),c("div",{staticClass:"value"},[c("yd-input",{attrs:{disabled:"",required:"",placeholder:"请输入地理坐标"},model:{value:o.point,callback:function(t){o.point=t},expression:"point"}})],1)]),o._v(" "),c("div",{staticClass:"companylist",on:{click:function(t){o.showSelectE=!0}}},[c("div",{staticClass:"name"},[o._v("选择国民经济类型")]),o._v(" "),c("div",{staticClass:"value"},[c("yd-input",{attrs:{disabled:"",required:"",placeholder:"请选择国民经济类型"},model:{value:o.cEconomicsName,callback:function(t){o.cEconomicsName=t},expression:"cEconomicsName"}})],1)]),o._v(" "),c("div",{staticClass:"companylist"},[c("div",{staticClass:"name"},[o._v("选择产业链")]),o._v(" "),c("div",{staticClass:"value",on:{click:o.selectEconomicsT}},[c("yd-input",{attrs:{disabled:"",required:"",placeholder:"请选择产业链"},model:{value:o.cEconomicsLevelName,callback:function(t){o.cEconomicsLevelName=t},expression:"cEconomicsLevelName"}})],1)])]),o._v(" "),c("div",{staticClass:"subCla"},[c("yd-button",{attrs:{size:"large",bgcolor:"#0FA0FA",color:"#fff"},nativeOn:{click:function(t){return o.subCompany(t)}}},[o._v("提交")])],1),o._v(" "),c("yd-popup",{staticStyle:{"max-height":"60%"},attrs:{position:"bottom"},model:{value:o.showconpany,callback:function(t){o.showconpany=t},expression:"showconpany"}},[c("div",{attrs:{slot:"top"},slot:"top"},[c("yd-search",{attrs:{"on-submit":o.submitHandler,placeholder:"根据公司名搜索","cancel-text":"确定","on-cancel":o.submitHandler},model:{value:o.selectcompany,callback:function(t){o.selectcompany=t},expression:"selectcompany"}})],1),o._v(" "),c("yd-cell-group",o._l(o.companyList,function(t,e){return c("yd-cell-item",{key:e,attrs:{type:"radio"}},[c("span",{attrs:{slot:"left"},slot:"left"},[o._v(o._s(t.companyName))]),o._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:o.companyId,expression:"companyId"}],attrs:{slot:"right",type:"radio"},domProps:{value:t.companyId,checked:o._q(o.companyId,t.companyId)},on:{change:function(c){o.companyId=t.companyId}},slot:"right"})])}))],1),o._v(" "),c("yd-popup",{staticStyle:{"max-height":"60%"},attrs:{position:"bottom"},model:{value:o.showSelectE,callback:function(t){o.showSelectE=t},expression:"showSelectE"}},[c("div",{staticClass:"poptop",attrs:{slot:"top"},slot:"top"},[o._v("选择国民经济类型")]),o._v(" "),c("yd-cell-group",o._l(o.EconomicsList,function(t,e){return c("yd-cell-item",{key:e,attrs:{type:"radio"}},[c("span",{attrs:{slot:"left"},slot:"left"},[o._v(o._s(t.cEconomicsName))]),o._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:o.cEconomicsId,expression:"cEconomicsId"}],attrs:{slot:"right",type:"radio"},domProps:{value:t.cEconomicsId,checked:o._q(o.cEconomicsId,t.cEconomicsId)},on:{change:function(c){o.cEconomicsId=t.cEconomicsId}},slot:"right"})])}))],1),o._v(" "),c("yd-popup",{staticStyle:{"max-height":"60%"},attrs:{position:"bottom"},model:{value:o.showSelectEleve,callback:function(t){o.showSelectEleve=t},expression:"showSelectEleve"}},[c("div",{staticClass:"poptop",attrs:{slot:"top"},slot:"top"},[o._v("选择国民经济类型")]),o._v(" "),c("yd-cell-group",o._l(o.cEconomicsLevelList,function(t,e){return c("yd-cell-item",{key:e,attrs:{type:"radio"}},[c("span",{attrs:{slot:"left"},slot:"left"},[o._v(o._s(t.cEconomicsLevelName))]),o._v(" "),c("input",{directives:[{name:"model",rawName:"v-model",value:o.cEconomicsLevelId,expression:"cEconomicsLevelId"}],attrs:{slot:"right",type:"radio"},domProps:{value:t.cEconomicsLevelId,checked:o._q(o.cEconomicsLevelId,t.cEconomicsLevelId)},on:{change:function(c){o.cEconomicsLevelId=t.cEconomicsLevelId}},slot:"right"})])}))],1)],1)},staticRenderFns:[]};var l=c("VU/8")(n,a,!1,function(o){c("iR/M")},"data-v-cea0b8a6",null);t.default=l.exports},"iR/M":function(o,t){}});
//# sourceMappingURL=6.271b354e999f8d6ab51f.js.map